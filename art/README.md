# Art Processing Tools

This directory contains scripts to process the DawnLike tileset into individual sprite files for use in the game.

## Setup

1. Install Python dependencies using uv:

```bash
cd art
uv venv
source .venv/bin/activate  # or .venv\Scripts\activate on Windows
uv pip install -r requirements.txt
```

## Character Processing

The `gen_characters.py` script processes DawnLike character tilesets:

```bash
python gen_characters.py
```

After running the Python script, you can generate a Godot TileSet resource using the `gen_characters_tileset.gd` script:

1. Open the script in Godot's script editor
2. Click "Run" or press `Ctrl+Shift+X` to execute it
3. The script will create `assets/generated/character_tiles.tres`

### Configuration

You can adjust the sprite limits by editing the configuration at the top of `gen_characters.py`:

```python
# Set to False to extract all sprites instead of just 3 per character type
SET_THIS_TO_FALSE_TO_GET_ALL_CHARACTERS = True   # Only extract first 3 sprites per character
# SET_THIS_TO_FALSE_TO_GET_ALL_CHARACTERS = False  # Extract all sprites
```

This script:

- Processes all PNG files in `art/DawnLike/Characters/`
- Splits each PNG into 16x16 tiles
- Skips transparent/empty tiles
- Uses a temporary directory for intermediate processing
- Uses naming convention: `<character>-<sprite_number>-<frame>.png`
- Limits sprites per character type (configurable via `SET_THIS_TO_FALSE_TO_GET_ALL_CHARACTERS`)
- Generates a sprite atlas at `assets/generated/character_tiles.png`
- Creates coordinate JSON at `assets/generated/character_tiles.json`
- Automatically cleans up temporary files when done

### Example Output

For `Humanoid0.png` and `Humanoid1.png`, the script will:

1. Extract up to 3 individual tiles per character type (configurable)
2. Process both animation frames for each sprite
3. Combine animation frames into double-width sprites
4. Generate a combined atlas with:

- `assets/generated/character_tiles.png` (optimally-sized atlas with 32x16 double-width sprites)
- `assets/generated/character_tiles.json` (coordinates for each sprite: `{"humanoid-0": [0, 0], "humanoid-1": [32, 0], ...}`)
- `assets/generated/character_tiles.tres` (Godot TileSet resource - generated by the GDScript)

## Complete Workflow

1. **Setup**: Install Python dependencies as described above
2. **Extract sprites**: Run `python gen_characters.py` to create the atlas and JSON
3. **Generate tileset**: Run `gen_characters_tileset.gd` in Godot to create the .tres file
4. **Use in game**: The tileset resource can now be used in Godot's TileMap nodes

## DawnLike Tileset

The DawnLike tileset is a pixel art collection that includes:

- Characters (creatures, NPCs, players)
- Items (weapons, armor, consumables)
- Objects (environment, decorations)
- GUI elements

Each character type has two frames for basic animation (0 and 1).
